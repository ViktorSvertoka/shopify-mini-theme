# [ДЗ] Shopify: Частина 1. Аналіз продуктивності та способів підключення JavaScript у Shopify-темі

## Аналіз порядку виконання скриптів

### Inline

Виконується миттєво при парсингу HTML, тобто ще до завершення побудови DOM.  
У консолі лог з’являється першим, оскільки браузер одразу виконує вбудований
код.

### Через `script_tag`

Shopify генерує стандартний тег  
`<script src=".../script.js"></script>`,  
тому браузер зупиняє парсинг HTML, завантажує та виконує скрипт, а лише потім
продовжує побудову DOM. Цей спосіб також блокує рендеринг сторінки.

### `{% javascript %}` у секції або сніпеті

Shopify автоматично збирає всі такі скрипти у і додає їх у `<head>` із атрибутом
`defer`. Код виконується після побудови всього DOM, подібно до `defer`.

### Async

Скрипт завантажується паралельно з HTML, але виконується одразу після
завантаження файлу, незалежно від стану DOM.  
Порядок виконання непередбачуваний — залежить від часу завантаження.

### Defer

Скрипт завантажується паралельно з HTML, але виконується лише після повного
розбору DOM (після події `DOMContentLoaded`).  
Не блокує рендеринг сторінки й є найоптимальнішим для продуктивності.

## Порівняльна таблиця

| №   | Тип підключення               | Виконання                       | Блокує рендеринг | Примітка                            |
| --- | ----------------------------- | ------------------------------- | ---------------- | ----------------------------------- |
| 1   | Inline                        | Одразу при парсингу HTML        | ✅               | Найшвидший, але блокує рендеринг    |
| 2   | `script_tag` (звичайний)      | Одразу після inline             | ✅               | Також блокує рендеринг              |
| 3   | `{% javascript %}` (у секції) | Після побудови DOM              | ❌               | Виконується подібно до `defer`      |
| 4   | `async`                       | Одразу після завантаження файлу | ⚠️               | Порядок непередбачуваний            |
| 5   | `defer`                       | Після повного DOM               | ❌               | Найоптимальніший для продуктивності |

## Підсумок

Рекомендовано використовувати **`defer`** або **`{% javascript %}`** у секціях
для покращення продуктивності та підтримки модульності теми.

![Banner Product](./screenshot-01.png)

![Banner Product](./screenshot-02.png)

# [ДЗ] Shopify: Частина 2. Кастомний компонент — “Карусель рекомендацій”

## Product Recommendations Carousel

### Опис

**Product Recommendations Carousel** — це кастомний JavaScript-компонент для
теми Shopify, який автоматично підтягує **рекомендовані товари** через **Shopify
Search & Discovery API** і відображає їх у форматі інтерактивної каруселі.  
Компонент побудований на базі **Swiper.js** і повністю адаптивний, швидкий та
сумісний з будь-якою сторінкою продукту.

### Функціональність

- **Динамічні рекомендації** — товари підтягуються автоматично відповідно до
  поточного продукту через `/recommendations/products.json`.
- **Карусель із плавною анімацією** — реалізована за допомогою Swiper.js
  (підтримує autoplay, keyboard navigation, breakpoints).
- **Клікабельні картки товарів** — кожен елемент веде на сторінку свого
  продукту.
- **Швидке завантаження** — підключення через `defer` і ініціалізація після
  DOM-завантаження.
- **Fallback-логіка** — якщо секцію вставлено на головну сторінку або іншу
  сторінку без `product_id`, підтягуються товари з обраної fallback-колекції.
- **Відповідає макету** — стилі виконані згідно з дизайн-референсом із тестового
  завдання.

### Технології

- Shopify Liquid

- Shopify Search & Discovery API

- JavaScript (ES6)

- Swiper.js

- CSS3

![Product Recommendations Carousel](./screenshot-03.png)

![Product Recommendations Carousel](./screenshot-04.png)
